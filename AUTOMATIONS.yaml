# AutomatizÄƒri gata de folosit - Copy & Paste

## 1. Notificare SimplÄƒ (RecomandatÄƒ pentru Ã®nceput)

```yaml
# CopieazÄƒ Ã®n Settings â†’ Automations â†’ Create New Automation
# Apoi alege "Edit in YAML" È™i inlocuieste cu asta:

alias: "ALERTA Cutremur"
description: "Alerta instantanee la telefon cÃ¢nd cutremur"
trigger:
  - platform: state
    entity_id: binary_sensor.earthquake_alert
    to: "on"
action:
  - service: notify.mobile_app_iphone  # SCHIMBA: iphone â†’ device_id al tÄƒu
    data:
      title: "ğŸš¨ CUTREMUR DETECTAT!"
      message: |
        ğŸ“ LocaÈ›ie: {{ state_attr('sensor.latest_earthquake', 'location') }}
        ğŸ“Š Magnitudine: {{ states('sensor.earthquake_magnitude') }}
        ğŸ“ Profunzime: {{ states('sensor.earthquake_depth') }} km
        ğŸ•’ Ora: {{ state_attr('sensor.latest_earthquake', 'time') }}
      data:
        push:
          sound: "default"
mode: single
```

---

## 2. Notificare AvansatÄƒ cu CondiÈ›ii

```yaml
alias: "Cutremur - Alerte Selective"
description: "NotificÄƒri diferite dupÄƒ magnitudine"
trigger:
  - platform: state
    entity_id: sensor.earthquake_magnitude
action:
  - choose:
      # Cutremure puternice (3.5-4.0)
      - conditions:
          - condition: numeric_state
            entity_id: sensor.earthquake_magnitude
            above: 3.5
            below: 4.0
        sequence:
          - service: notify.mobile_app_iphone
            data:
              title: "âš ï¸ Cutremur Puternic"
              message: >
                Magnitudine {{ states('sensor.earthquake_magnitude') }} Ã®n
                {{ state_attr('sensor.latest_earthquake', 'location') }}
      
      # Cutremure foarte puternice (>4.0)
      - conditions:
          - condition: numeric_state
            entity_id: sensor.earthquake_magnitude
            above: 4.0
        sequence:
          - service: notify.mobile_app_iphone
            data:
              title: "ğŸ”´ CUTREMUR SEMNIFICATIV!"
              message: >
                âš¡ MAGNITUDINE {{ states('sensor.earthquake_magnitude') }}!
                ğŸ“ {{ state_attr('sensor.latest_earthquake', 'location') }}
              data:
                push:
                  sound: "critical"
          
          # Email notificare pentru cutremure majore
          - service: notify.email
            data:
              title: "CUTREMUR MAJOR"
              message: >
                Cutremur cu magnitudine {{ states('sensor.earthquake_magnitude') }}
                Ã®n {{ state_attr('sensor.latest_earthquake', 'location') }}
    
    default: []

mode: single
```

---

## 3. Notificare PersistentÄƒ (RÄƒmÃ¢ne pe ecran)

```yaml
alias: "Cutremur - Notificare PersistentÄƒ"
description: "AfiÈ™eazÄƒ notificare persistentÄƒ care rÄƒmÃ¢ne vizibilÄƒ"
trigger:
  - platform: state
    entity_id: binary_sensor.earthquake_alert
    to: "on"
action:
  - service: persistent_notification.create
    data:
      title: "ğŸš¨ ALERTA CUTREMUR"
      message: |
        **InformaÈ›ii Detaliate**
        â€¢ Magnitudine: {{ states('sensor.earthquake_magnitude') }}
        â€¢ LocaÈ›ie: {{ state_attr('sensor.latest_earthquake', 'location') }}
        â€¢ Profunzime: {{ states('sensor.earthquake_depth') }} km
        â€¢ Latitudine: {{ state_attr('sensor.latest_earthquake', 'latitude') }}
        â€¢ Longitudine: {{ state_attr('sensor.latest_earthquake', 'longitude') }}
        â€¢ Ora: {{ state_attr('sensor.latest_earthquake', 'time') }}
        â€¢ Tip: {{ state_attr('sensor.latest_earthquake', 'event_type') }}
      
      notification_id: "earthquake_alert"

mode: single
```

---

## 4. NotificÄƒri Multi-Canal

```yaml
alias: "Cutremur - Multi-Canal"
description: "Trimite notificÄƒri pe mobil + email + persistent"
trigger:
  - platform: state
    entity_id: binary_sensor.earthquake_alert
    to: "on"
action:
  # Notificare mobil cu sunet critic
  - service: notify.mobile_app_iphone
    data:
      title: "ğŸš¨ CUTREMUR!"
      message: "Mag {{ states('sensor.earthquake_magnitude') }}"
      data:
        push:
          sound: critical
  
  # Email (dacÄƒ ai configurat)
  - service: notify.email
    data:
      title: "Cutremur Detectat"
      message: |
        Magnitudine: {{ states('sensor.earthquake_magnitude') }}
        LocaÈ›ie: {{ state_attr('sensor.latest_earthquake', 'location') }}

  # Notificare persistentÄƒ Ã®n Home Assistant
  - service: persistent_notification.create
    data:
      title: "CUTREMUR"
      message: "Mag {{ states('sensor.earthquake_magnitude') }}"

mode: single
```

---

## 5. Alerta cu RestricÈ›ie de OrÄƒ (Nu deranja noaptea)

```yaml
alias: "Cutremur - Smart Hours"
description: "Alerte modificate pe baza orei"
trigger:
  - platform: state
    entity_id: binary_sensor.earthquake_alert
    to: "on"
action:
  - choose:
      # Zi (8:00 - 22:00) - notificare normalÄƒ
      - conditions:
          - condition: time
            after: "08:00:00"
            before: "22:00:00"
        sequence:
          - service: notify.mobile_app_iphone
            data:
              title: "Alerta Cutremur"
              message: >
                Mag {{ states('sensor.earthquake_magnitude') }} Ã®n
                {{ state_attr('sensor.latest_earthquake', 'location') }}
      
      # Noapte (22:00 - 08:00) - doar pentru cutremure majore
      - conditions:
          - condition: time
            after: "22:00:00"
            before: "08:00:00"
          - condition: numeric_state
            entity_id: sensor.earthquake_magnitude
            above: 4.0
        sequence:
          - service: notify.mobile_app_iphone
            data:
              title: "ğŸš¨ CUTREMUR MAJOR!"
              message: "Mag {{ states('sensor.earthquake_magnitude') }}"
              data:
                push:
                  sound: critical

mode: single
```

---

## 6. Aprinde Lumini + Alerta (Safety Script)

```yaml
alias: "Cutremur - Emergency Response"
description: "Aprinde lumini + alerta + notificare"
trigger:
  - platform: state
    entity_id: binary_sensor.earthquake_alert
    to: "on"
condition:
  - condition: numeric_state
    entity_id: sensor.earthquake_magnitude
    above: 3.5
action:
  # Aprinde lumini dacÄƒ nu sunt aprinse
  - service: light.turn_on
    target:
      entity_id: light.living_room
  
  # Notificare urgentÄƒ
  - service: notify.mobile_app_iphone
    data:
      title: "ğŸš¨ CUTREMUR PUTERNIC!"
      message: >
        EMERGENÈšÄ‚: Magnitudine {{ states('sensor.earthquake_magnitude') }}
        LOCAÈšIE: {{ state_attr('sensor.latest_earthquake', 'location') }}
      data:
        push:
          sound: critical

mode: single
```

---

## 7. Jurnal de Cutremure (Logging)

```yaml
alias: "Cutremur - Jurnal Istoric"
description: "SalveazÄƒ cutremurile Ã®n istoric"
trigger:
  - platform: state
    entity_id: sensor.earthquake_magnitude
action:
  - service: persistent_notification.create
    data:
      title: "Jurnal Cutremure"
      message: |
        [{{ now().strftime('%Y-%m-%d %H:%M:%S') }}]
        Mag: {{ states('sensor.earthquake_magnitude') }}
        Loc: {{ state_attr('sensor.latest_earthquake', 'location') }}
        Prof: {{ states('sensor.earthquake_depth') }} km
      
      notification_id: "earthquake_log_{{ now().timestamp() }}"

mode: single
```

---

## 8. Automatizare ComplexÄƒ - Scenarii Multiple

```yaml
alias: "Cutremur - Scenariu Complet"
description: "Handling complex cu mai mulÈ›i paÈ™i"
trigger:
  - platform: state
    entity_id: binary_sensor.earthquake_alert
    to: "on"
action:
  # 1. Log in Home Assistant
  - service: persistent_notification.create
    data:
      title: "ğŸš¨ CUTREMUR {{ states('sensor.earthquake_magnitude') }} MAGNITUDINE"
      message: |
        ğŸ“ LOCAÈšIE: {{ state_attr('sensor.latest_earthquake', 'location') }}
        ğŸ“ PROFUNZIME: {{ states('sensor.earthquake_depth') }} km
        ğŸ•’ ORA: {{ state_attr('sensor.latest_earthquake', 'time') }}
        ğŸ“Œ COORD: {{ state_attr('sensor.latest_earthquake', 'latitude') }}, {{ state_attr('sensor.latest_earthquake', 'longitude') }}
      notification_id: "earthquake_current"
  
  # 2. Trimite notificare
  - service: notify.mobile_app_iphone
    data:
      title: "Alerta Cutremur"
      message: "Mag {{ states('sensor.earthquake_magnitude') }}"
      data:
        push:
          sound: default
  
  # 3. Aprinde context-aware
  - choose:
      - conditions:
          - condition: numeric_state
            entity_id: sensor.earthquake_magnitude
            above: 4.0
        sequence:
          - service: light.turn_on
            target:
              entity_id:
                - light.living_room
                - light.bedroom
            data:
              brightness: 255

mode: single
```

---

## ğŸ“ Cum sÄƒ le foloseÈ™ti

1. **CopiazÄƒ codul YAML** de mai sus
2. **Mergi Ã®n:** Home Assistant â†’ Settings â†’ Automations
3. **ApasÄƒ:** "Create Automation"
4. **Alege:** "Edit in YAML" (sus Ã®n dreapta)
5. **Inlocuieste:** tot cu codul copiat
6. **VerificÄƒ:** cÄƒ ai inlocuit `iphone` cu device_id al tÄƒu
7. **SalveazÄƒ:** ApasÄƒ "Save"

---

## âš ï¸ Important

- **iphone** â†’ SchimbÄƒ cu device_id al dispozitivului tÄƒu mobile
  - Afli Ã®n: Settings â†’ Devices & Services â†’ find your device â†’ copy ID
- **email** â†’ NecesitÄƒ `notify.email` configurat
- **Testare:** AÈ™teptÄƒ un cutremur natural SAU simuleaza Ã®n Services

Succes! ğŸ‰
